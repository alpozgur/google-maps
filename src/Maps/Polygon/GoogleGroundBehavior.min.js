Type.registerNamespace("Velyo.Google.Maps");Velyo.Google.Maps.GroundBehavior=function(n){Velyo.Google.Maps.GroundBehavior.initializeBase(this,[n])};Velyo.Google.Maps.GroundBehavior.prototype={initialize:function(){Velyo.Google.Maps.GroundBehavior.callBaseMethod(this,"initialize");Velyo.Google.Maps.Worker.queue(Function.createDelegate(this,this._attach))},dispose:function(){this._detach();Velyo.Google.Maps.GroundBehavior.callBaseMethod(this,"dispose")}};Velyo.Google.Maps.GroundBehavior.registerClass("Velyo.Google.Maps.GroundBehavior",Sys.UI.Behavior),function(n){var u,t,i,r;n.map=null;n.ground=null;n.get_name=function(){return u};n.set_name=function(n){u=n};n.get_bounds=function(){return t};n.set_bounds=function(n){t=n};n.get_clickable=function(){return i};n.set_clickable=function(n){i=n};n.get_url=function(){return r};n.set_url=function(n){r=n};n._attach=function(){var n=$find(this.get_element().id);n&&n.add_mapLoaded(Function.createDelegate(this,this.create))};n._detach=function(){this.ground&&google.maps.event.clearInstanceListeners(this.ground)};n.create=function(){var n=$find(this.get_element().id);n&&(this.map=n.map);this.ground=new google.maps.GroundOverlay(r,Velyo.Google.Maps.Convert.toLatLngBounds(t),{clickable:i,map:this.map});this.composeEvents()};n.getBounds=function(){return this.ground.getBounds()};n.getMap=function(){return this.ground.getMap()};n.getUrl=function(){return this.ground.getUrl()};n.getMap=function(n){return this.ground.setMap(n)}}(Velyo.Google.Maps.GroundBehavior.prototype),function(n){function i(n){var t=this.get_events().getHandler("click");t&&t(this,n)}var t={click:i};n.delegates={click:null};n.listeners={click:null};n.composeEvents=function(){var i,n;if(this.ground)for(n in t)i=this.get_events().getHandler(n),i?this.listeners[n]||(this.delegates[n]||(this.delegates[n]=Function.createDelegate(this,t[n])),this.listeners[n]=google.maps.event.addListener(this.ground,n,this.delegates[n])):this.listeners[n]&&google.maps.event.removeListener(this.listeners[n])};n.add_click=function(n){this.get_events().addHandler("click",n);this.composeEvents()};n.remove_click=function(n){this.get_events().removeHandler("click",n);this.composeEvents()}}(Velyo.Google.Maps.GroundBehavior.prototype),function(n){function t(n,t){__doPostBack(n,Sys.Serialization.JavaScriptSerializer.serialize(t))}n.raiseServerClick=function(n,i){t(n.get_name(),{lat:i.latLng.lat(),lng:i.latLng.lng(),name:"click"})}}(Velyo.Google.Maps.GroundBehavior);